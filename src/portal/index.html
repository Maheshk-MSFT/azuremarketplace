<!doctype html>
<html lang="en">
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="css/site.css"/>
        <script src="scripts/settings.js"></script>
        <script src="scripts/node_modules/applicationinsights-js/dist/ai.js"></script>
        <script type="text/javascript">
            let snippet = { config: {instrumentationKey: window.instrumentationKey} };
            let init = new Microsoft.ApplicationInsights.Initialization(snippet);
            let appInsights = init.loadAppInsights();
            appInsights.trackPageView();
        </script>
        <title>Fabrikam SaaS Portal</title>
    </head>
    <body>
        <div id="noAuth" class="show">
            This is no-auth
            <br/>
            <button onclick="login();">Log in</button>
        </div>
        <div id="loading" class="hide">
            Loading ...
        </div>
        <div id="auth" class="hide">
            Thank you for requesting a new subscription for the Fabrikam SaaS application. We see you are subscribing
            with the following details:

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Subscriber information</h5>
                    <table class="table table-bordered table-dark">
                        <tr>
                            <td>Subscriber:</td>
                            <td id="subscriberName"></td>
                        </tr>
                        <tr>
                            <td>Subscriber email:</td>
                            <td id="subscriberEmail"></td>
                        </tr>
                        <tr>
                            <td>Subscriber tenant:</td>
                            <td id="subscriberTenant"></td>
                        </tr>
                        <tr>
                            <td>Subscription ID:</td>
                            <td id="subscriptionId"></td>
                        </tr>
                        <tr>
                            <td>Subscription Name:</td>
                            <td id="subscriptionName"></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Offer information</h5>
                    <table class="table table-bordered table-dark">
                        <tr>
                            <td>Offer ID:</td>
                            <td id="offerId"></td>
                        </tr>
                        <tr>
                            <td>Plan ID:</td>
                            <td id="planId"></td>
                        </tr>
                    </table>
                </div>
            </div>
            <br/>
            <div id="preActivation" class="show">
                <div class="card-body">
                    <h5 class="card-title">We need to collect some more information before we continue.</h5>
                    <table class="table table-bordered table-dark">
                        <tr>
                            <td><label for="preferredName">What is your name?</label></td>
                            <td><input type="text" id="preferredName"></td>
                        </tr>
                        <tr>
                            <td><label for="quest">What is your quest?</label></td>
                            <td><input type="text" id="quest"></td>
                        </tr>
                        <tr>
                            <td><label for="favoriteColor">What is your favorite color?</label></td>
                            <td><input type="text" id="favoriteColor"></td>
                        </tr>
                    </table>
                </div>
                Click Activate to continue. <button onclick="activateSubscription();">Activate</button>
                <br/>
            </div>
            <div id="postActivation" class="hide">
                <div class="card-body">
                    <h5 class="card-title">Your subscription is activated. Do you wish to change your plan?</h5>
                    <label for="selectPlan">Select a plan</label>
                    <select id="selectPlan"></select>
                    <br/>
                    Click Update to change the subscription plan. <button onclick="updateSubscription();">Update</button>
                    <br/>
                </div>
            </div>
            <button onclick="logout();">Log out</button>
        </div>
        <br/>
        <button onclick="clearStorage();">Clear Storage</button>
        <script src="scripts/jquery.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src="scripts/auth.js"></script>
        <script src="scripts/index.js"></script>
        <script src="scripts/AzureMarketplace.js"></script>
    </body>
</html>